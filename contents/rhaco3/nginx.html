<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>rhaco.org</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
	<style>
		body{ padding-top: 60px; }
	</style>
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet">
</head>
<body>
	<!-- github -->
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="brand" href="../../index.html">rhaco.org</a>
				<div class="nav-collapse collapse">
					<ul class="nav">
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		
	<h2>nginx.confのサンプル</h2>
	
	<p>
		nginx + php-fpm の場合の設定サンプル
	</p>
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">/etc/nginx/nginx.conf の編集</div><pre class="prettyprint">server {
    location ~ \.php($|/) {
        fastcgi_pass   127.0.0.1:9000;
        fastcgi_index  index.php;
        fastcgi_param  SCRIPT_FILENAME  /var/www$fastcgi_script_name;
        fastcgi_intercept_errors on;
        include        fastcgi_params;
&nbsp;&nbsp;
        fastcgi_split_path_info          ^(.+\.php)(/.+)$;
        fastcgi_param PATH_INFO          $fastcgi_path_info;
        break;
    }
&nbsp;&nbsp;
    location /hoge/ {
        if (!-f $request_filename) {
            rewrite ^(.+?)(/.*)$ /hoge/index.php$2?$query_string last;
            break;
        }
    }&nbsp;&nbsp;
    location /aaa/bbb/ccc {
        if (!-f $request_filename) {
            rewrite ^/aaa/bbb/ccc(.*)$ /aaa/bbb/ccc/index.php$1?$query_string last;
            break;
        }
    }
}</pre>
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">設定の反映</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">sudo /etc/init.d/nginx reload</pre>


	</div>
</body>
</html>

