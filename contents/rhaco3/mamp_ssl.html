<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>rhaco.org</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
	<style>
		body{ padding-top: 60px; }
	</style>
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet">
</head>
<body>
	<!-- github -->
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="brand" href="../../index.html">rhaco.org</a>
				<div class="nav-collapse collapse">
					<ul class="nav">
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		
	<h2>MAMPでSSLを有効化する</h2>
	<p>@see http://blog-en.mamp.info/2009/10/getting-mamp-working-with-ssl-on-os-x.html</p>

	<h3>SSLの準備</h3>
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">作業フォルダの作成</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">mkdir ~/ssl-keygen
cd ~/ssl-keygen</pre>
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">private key</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">openssl genrsa -des3 -out server.key 1024</pre>
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">Certificate Signing Request (CSR)</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">openssl req -new -key server.key -out server.csr</pre>
	<pre class="prettyprint" style="margin-top: 20px; ">Country Name: JP
..
Common Name: 127.0.0.1
..</pre>
	
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">Certificate</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</pre>
	
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">server key</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">cp server.key server.tmp
openssl rsa -in server.tmp -out server.key</pre>

	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">MAMPへコピー</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">mkdir /Applications/MAMP/conf/ssl
cp server.crt /Applications/MAMP/conf/ssl
cp server.key /Applications/MAMP/conf/ssl</pre>	
	
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">作業フォルダの削除</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">cd ~/
rm -Rf ~/ssl-keygen</pre>	
	
	<h3>MAMPの設定</h3>	
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">/Applications/MAMP/conf/apache/extra/httpd-ssl.conf</div><pre class="prettyprint">DocumentRoot &quot;/Applications/MAMP/Library/htdocs&quot;
...
#ServerName www.example.com:443
ServerName 127.0.0.1:443
...&nbsp;&nbsp;&nbsp;&nbsp;
#SSLCertificateFile &quot;/Applications/MAMP/conf/apache/server.crt&quot;
SSLCertificateFile &quot;/Applications/MAMP/conf/ssl/server.crt&quot;
...&nbsp;&nbsp;
#SSLCertificateKeyFile &quot;/Applications/MAMP/conf/apache/server.key&quot;
SSLCertificateKeyFile &quot;/Applications/MAMP/conf/ssl/server.key&quot;</pre>

	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">/Applications/MAMP/conf/apache/httpd.conf</div><pre class="prettyprint">...
#Include /Applications/MAMP/conf/apache/extra/httpd-ssl.conf
Include /Applications/MAMP/conf/apache/extra/httpd-ssl.conf
...</pre>
	
	<div style="margin-top:20px; color:#7a43b6; font-weight: bold;">作業フォルダの削除</div><pre style="background-color:#fff; color:#000; border-color:#000; padding:5px;">cd ~/ssl-keygen
rm -Rf ~/ssl-keygen</pre>

	</div>
</body>
</html>

